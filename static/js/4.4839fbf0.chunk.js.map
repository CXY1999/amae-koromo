{"version":3,"sources":["components/gameRecords/playerDetails.tsx"],"names":["__webpack_require__","r","__webpack_exports__","d","PlayerDetails","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_loadable__WEBPACK_IMPORTED_MODULE_1__","react_loadable__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_2__","_dataAdapterProvider__WEBPACK_IMPORTED_MODULE_3__","_utils_index__WEBPACK_IMPORTED_MODULE_4__","_utils_dataTypes__WEBPACK_IMPORTED_MODULE_5__","_utils_constants__WEBPACK_IMPORTED_MODULE_6__","_misc_loading__WEBPACK_IMPORTED_MODULE_7__","RankRateChart","Loadable","loader","Promise","all","e","then","bind","loading","a","createElement","RecentRankChart","dataAdapter","useDataAdapter","metadata","getMetadata","useEffect","triggerRelayout","nickname","TITLE_PREFIX","className","playerId","id","aspect","count","LevelWithDelta","format","level","avg_rank","toFixed","formatPercent","negative_rate"],"mappings":"0FAAAA,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,4BAAAE,IAAA,IAAAC,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,IAAAS,EAAAT,EAAAO,EAAAC,GAAAE,EAAAV,EAAA,KAAAW,EAAAX,EAAA,IAAAY,EAAAZ,EAAA,IAAAa,EAAAb,EAAA,IAAAc,EAAAd,EAAA,IAAAe,EAAAf,EAAA,IAWMgB,EAAgBC,IAAS,CAC7BC,OAAQ,kBAAMC,QAAAC,IAAA,CAAApB,EAAAqB,EAAA,GAAArB,EAAAqB,EAAA,KAAAC,KAAAtB,EAAAuB,KAAA,YACdC,QAAS,kBAAMlB,EAAAmB,EAAAC,cAACX,EAAA,EAAD,SAEXY,EAAkBV,IAAS,CAC/BC,OAAQ,kBAAMC,QAAAC,IAAA,CAAApB,EAAAqB,EAAA,GAAArB,EAAAqB,EAAA,GAAArB,EAAAqB,EAAA,KAAAC,KAAAtB,EAAAuB,KAAA,YACdC,QAAS,kBAAMlB,EAAAmB,EAAAC,cAACX,EAAA,EAAD,SAGF,SAASX,IACtB,IAAMwB,EAAcC,cACdC,EAAWF,EAAYG,cAE7B,OADAC,oBAAUC,IAAiB,GAAGH,IACzBA,GAAaA,EAASI,SAIzB5B,EAAAmB,EAAAC,cAAA,WACEpB,EAAAmB,EAAAC,cAAChB,EAAA,OAAD,KACEJ,EAAAmB,EAAAC,cAAA,aACGS,IADH,MACoBL,EAASI,WAG/B5B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,eAAd,qBAAgCN,EAASI,UACzC5B,EAAAmB,EAAAC,cAAA,OAAKU,UAAU,YACb9B,EAAAmB,EAAAC,cAAA,OAAKU,UAAU,YACb9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,oBAAd,4BACA9B,EAAAmB,EAAAC,cAACC,EAAD,CAAiBC,YAAaA,EAAaS,SAAUP,EAASQ,GAAIC,OAAQ,IAC1EjC,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,yBAAd,4BACA9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,OACZ9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAd,4BACA9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAkBN,EAASU,OACzClC,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAd,4BACA9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAkBK,IAAeC,OAAOZ,EAASa,QAC/DrC,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAd,4BACA9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAkBN,EAASc,SAASC,QAAQ,IAC1DvC,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAd,sBACA9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,kBAAkBU,YAAchB,EAASiB,kBAG3DzC,EAAAmB,EAAAC,cAAA,OAAKU,UAAU,YACb9B,EAAAmB,EAAAC,cAAA,MAAIU,UAAU,oBAAd,4BACA9B,EAAAmB,EAAAC,cAACV,EAAD,CAAec,SAAUA,OA5BxBxB,EAAAmB,EAAAC,cAACX,EAAA,EAAD","file":"static/js/4.4839fbf0.chunk.js","sourcesContent":["import React from \"react\";\nimport Loadable from \"react-loadable\";\nimport { Helmet } from \"react-helmet\";\n\nimport { useDataAdapter } from \"./dataAdapterProvider\";\nimport { PlayerMetadata } from \"../../utils/dataSource\";\nimport { useEffect } from \"react\";\nimport { triggerRelayout, formatPercent } from \"../../utils/index\";\nimport { LevelWithDelta } from \"../../utils/dataTypes\";\nimport { TITLE_PREFIX } from \"../../utils/constants\";\nimport Loading from \"../misc/loading\";\nconst RankRateChart = Loadable({\n  loader: () => import(\"./charts/rankRate\"),\n  loading: () => <Loading />\n});\nconst RecentRankChart = Loadable({\n  loader: () => import(\"./charts/recentRank\"),\n  loading: () => <Loading />\n});\n\nexport default function PlayerDetails() {\n  const dataAdapter = useDataAdapter();\n  const metadata = dataAdapter.getMetadata<PlayerMetadata>();\n  useEffect(triggerRelayout, [!!metadata]);\n  if (!metadata || !metadata.nickname) {\n    return <Loading />;\n  }\n  return (\n    <div>\n      <Helmet>\n        <title>\n          {TITLE_PREFIX} - {metadata.nickname}\n        </title>\n      </Helmet>\n      <h2 className=\"text-center\">玩家：{metadata.nickname}</h2>\n      <div className=\"row mt-4\">\n        <div className=\"col-md-8\">\n          <h3 className=\"text-center mb-4\">最近走势</h3>\n          <RecentRankChart dataAdapter={dataAdapter} playerId={metadata.id} aspect={6} />\n          <h3 className=\"text-center mt-4 mb-4\">相关数据</h3>\n          <dl className=\"row\">\n            <dt className=\"col-4 col-md-2\">记录场数</dt>\n            <dd className=\"col-8 col-md-4\">{metadata.count}</dd>\n            <dt className=\"col-4 col-md-2\">当前等级</dt>\n            <dd className=\"col-8 col-md-4\">{LevelWithDelta.format(metadata.level)}</dd>\n            <dt className=\"col-4 col-md-2\">平均顺位</dt>\n            <dd className=\"col-8 col-md-4\">{metadata.avg_rank.toFixed(3)}</dd>\n            <dt className=\"col-4 col-md-2\">被飞率</dt>\n            <dd className=\"col-8 col-md-4\">{formatPercent(metadata.negative_rate)}</dd>\n          </dl>\n        </div>\n        <div className=\"col-md-4\">\n          <h3 className=\"text-center mb-4\">累计战绩</h3>\n          <RankRateChart metadata={metadata} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}