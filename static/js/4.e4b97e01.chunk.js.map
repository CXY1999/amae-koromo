{"version":3,"sources":["components/misc/loading.tsx","components/gameRecords/playerDetails.tsx"],"names":["__webpack_require__","d","__webpack_exports__","Loading","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","a","createElement","className","role","r","PlayerDetails","react_loadable__WEBPACK_IMPORTED_MODULE_1__","react_loadable__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_2__","_dataAdapterProvider__WEBPACK_IMPORTED_MODULE_3__","_utils_index__WEBPACK_IMPORTED_MODULE_4__","_utils_dataTypes__WEBPACK_IMPORTED_MODULE_5__","_utils_constants__WEBPACK_IMPORTED_MODULE_6__","_misc_loading__WEBPACK_IMPORTED_MODULE_7__","RankRateChart","Loadable","loader","Promise","all","e","then","bind","loading","RecentRankChart","dataAdapter","useDataAdapter","metadata","getMetadata","useEffect","triggerRelayout","nickname","TITLE_PREFIX","playerId","id","aspect","count","LevelWithDelta","format","level","avg_rank","toFixed","formatPercent","negative_rate"],"mappings":"0FAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAA,IAAAC,EAAAJ,EAAA,GAAAK,EAAAL,EAAAM,EAAAF,GAEe,SAASD,IACtB,OACEE,EAAAE,EAAAC,cAAA,OAAKC,UAAU,qCACbJ,EAAAE,EAAAC,cAAA,OAAKC,UAAU,iBAAiBC,KAAK,UACnCL,EAAAE,EAAAC,cAAA,QAAMC,UAAU,WAAhB,mDCNRT,EAAAW,EAAAT,GAAAF,EAAAC,EAAAC,EAAA,4BAAAU,IAAA,IAAAR,EAAAJ,EAAA,GAAAK,EAAAL,EAAAM,EAAAF,GAAAS,EAAAb,EAAA,IAAAc,EAAAd,EAAAM,EAAAO,GAAAE,EAAAf,EAAA,KAAAgB,EAAAhB,EAAA,IAAAiB,EAAAjB,EAAA,IAAAkB,EAAAlB,EAAA,IAAAmB,EAAAnB,EAAA,IAAAoB,EAAApB,EAAA,KAWMqB,EAAgBC,IAAS,CAC7BC,OAAQ,kBAAMC,QAAAC,IAAA,CAAAzB,EAAA0B,EAAA,GAAA1B,EAAA0B,EAAA,KAAAC,KAAA3B,EAAA4B,KAAA,YACdC,QAAS,kBAAMxB,EAAAE,EAAAC,cAACY,EAAA,EAAD,SAEXU,EAAkBR,IAAS,CAC/BC,OAAQ,kBAAMC,QAAAC,IAAA,CAAAzB,EAAA0B,EAAA,GAAA1B,EAAA0B,EAAA,GAAA1B,EAAA0B,EAAA,KAAAC,KAAA3B,EAAA4B,KAAA,YACdC,QAAS,kBAAMxB,EAAAE,EAAAC,cAACY,EAAA,EAAD,SAGF,SAASR,IACtB,IAAMmB,EAAcC,cACdC,EAAWF,EAAYG,cAE7B,OADAC,oBAAUC,IAAiB,GAAGH,IACzBA,GAAaA,EAASI,SAIzBhC,EAAAE,EAAAC,cAAA,WACEH,EAAAE,EAAAC,cAACO,EAAA,OAAD,KACEV,EAAAE,EAAAC,cAAA,aACG8B,IADH,MACoBL,EAASI,WAG/BhC,EAAAE,EAAAC,cAAA,MAAIC,UAAU,eAAd,qBAAgCwB,EAASI,UACzChC,EAAAE,EAAAC,cAAA,OAAKC,UAAU,YACbJ,EAAAE,EAAAC,cAAA,OAAKC,UAAU,YACbJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,oBAAd,4BACAJ,EAAAE,EAAAC,cAACsB,EAAD,CAAiBC,YAAaA,EAAaQ,SAAUN,EAASO,GAAIC,OAAQ,IAC1EpC,EAAAE,EAAAC,cAAA,MAAIC,UAAU,yBAAd,4BACAJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,OACZJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAd,4BACAJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAkBwB,EAASS,OACzCrC,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAd,4BACAJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAkBkC,IAAeC,OAAOX,EAASY,QAC/DxC,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAd,4BACAJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAkBwB,EAASa,SAASC,QAAQ,IAC1D1C,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAd,sBACAJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,kBAAkBuC,YAAcf,EAASgB,kBAG3D5C,EAAAE,EAAAC,cAAA,OAAKC,UAAU,YACbJ,EAAAE,EAAAC,cAAA,MAAIC,UAAU,oBAAd,4BACAJ,EAAAE,EAAAC,cAACa,EAAD,CAAeY,SAAUA,OA5BxB5B,EAAAE,EAAAC,cAACY,EAAA,EAAD","file":"static/js/4.e4b97e01.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Loading() {\n  return (\n    <div className=\"d-flex justify-content-center m-5\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"sr-only\">Loading...</span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Loadable from \"react-loadable\";\nimport { Helmet } from \"react-helmet\";\n\nimport { useDataAdapter } from \"./dataAdapterProvider\";\nimport { PlayerMetadata } from \"../../utils/dataSource\";\nimport { useEffect } from \"react\";\nimport { triggerRelayout, formatPercent } from \"../../utils/index\";\nimport { LevelWithDelta } from \"../../utils/dataTypes\";\nimport { TITLE_PREFIX } from \"../../utils/constants\";\nimport Loading from \"../misc/loading\";\nconst RankRateChart = Loadable({\n  loader: () => import(\"./charts/rankRate\"),\n  loading: () => <Loading />\n});\nconst RecentRankChart = Loadable({\n  loader: () => import(\"./charts/recentRank\"),\n  loading: () => <Loading />\n});\n\nexport default function PlayerDetails() {\n  const dataAdapter = useDataAdapter();\n  const metadata = dataAdapter.getMetadata<PlayerMetadata>();\n  useEffect(triggerRelayout, [!!metadata]);\n  if (!metadata || !metadata.nickname) {\n    return <Loading />;\n  }\n  return (\n    <div>\n      <Helmet>\n        <title>\n          {TITLE_PREFIX} - {metadata.nickname}\n        </title>\n      </Helmet>\n      <h2 className=\"text-center\">玩家：{metadata.nickname}</h2>\n      <div className=\"row mt-4\">\n        <div className=\"col-md-8\">\n          <h3 className=\"text-center mb-4\">最近走势</h3>\n          <RecentRankChart dataAdapter={dataAdapter} playerId={metadata.id} aspect={6} />\n          <h3 className=\"text-center mt-4 mb-4\">相关数据</h3>\n          <dl className=\"row\">\n            <dt className=\"col-4 col-md-2\">记录场数</dt>\n            <dd className=\"col-8 col-md-4\">{metadata.count}</dd>\n            <dt className=\"col-4 col-md-2\">当前等级</dt>\n            <dd className=\"col-8 col-md-4\">{LevelWithDelta.format(metadata.level)}</dd>\n            <dt className=\"col-4 col-md-2\">平均顺位</dt>\n            <dd className=\"col-8 col-md-4\">{metadata.avg_rank.toFixed(3)}</dd>\n            <dt className=\"col-4 col-md-2\">被飞率</dt>\n            <dd className=\"col-8 col-md-4\">{formatPercent(metadata.negative_rate)}</dd>\n          </dl>\n        </div>\n        <div className=\"col-md-4\">\n          <h3 className=\"text-center mb-4\">累计战绩</h3>\n          <RankRateChart metadata={metadata} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}