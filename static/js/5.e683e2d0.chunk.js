(this["webpackJsonpamae-koromo"]=this["webpackJsonpamae-koromo"]||[]).push([[5],{222:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(5),r=a(31),c=a(0),l=a.n(c),u={selectedMode:""},i=l.a.createContext([Object(r.a)({},u),function(){}]),o=function(){return Object(c.useContext)(i)};function s(e){var t=e.children,a=Object(c.useReducer)((function(e,t){return Object(r.a)({},e,{},t)}),null,(function(){return Object(r.a)({},u)})),o=Object(n.a)(a,2),s=o[0],m=o[1],d=Object(c.useMemo)((function(){return[s,m]}),[s,m]);return l.a.createElement(i.Provider,{value:d},t)}},223:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return m})),a.d(t,"a",(function(){return b})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return E}));var n=a(31),r=a(0),c=a.n(r),l=a(28),u=a(13),i=a(67),o=a(9),s=function(){throw new Error("Not intended for rendering")},m=function(){throw new Error("Not intended for rendering")},d=c.a.createContext([]);function b(e){var t=e.className,a=void 0===t?"":t,n=e.replace,i=void 0!==n&&n,s=e.keepState,m=void 0!==s&&s,b=Object(o.c)("navButtons").t,f=Object(r.useContext)(d),E=(Object(u.k)()||{url:""}).url.replace(/\/+$/,"");return c.a.createElement("nav",{className:"nav nav-pills mb-3 ".concat(a)},f.filter((function(e){return!e.disabled})).map((function(e){return c.a.createElement(l.c,{key:e.path,to:function(t){return{pathname:"".concat(E,"/").concat(e.path),state:m?t.state:void 0}},replace:i,exact:!!e.exact,className:"nav-link",activeClassName:"active"},b(e.title))})))}function f(e){var t=e.defaultRenderDirectly,a=void 0!==t&&t,l=e.mutateTitle,s=void 0===l||l,m=e.children,b=Object(o.c)("navButtons").t,f=Object(r.useContext)(d),E=Object(u.k)()||{url:""},v=Object(u.i)(),h=E.url.replace(/\/+$/,"");return c.a.createElement(u.d,null,f.filter((function(e){return!e.disabled})).map((function(e){return c.a.createElement(u.b,{exact:e.exact,key:e.path,path:"".concat(h,"/").concat(e.path)},s&&c.a.createElement(i.Helmet,null,c.a.createElement("title",null,b(e.title))),e.children)})),c.a.createElement(u.b,null,a?f[0].children:c.a.createElement(u.a,{to:Object(n.a)({},v,{pathname:"".concat(h,"/").concat(f[0].path)}),push:!1})),m)}function E(e){var t=e.children;return c.a.createElement(d.Provider,{value:t[0].props.children.map((function(e){return e.props}))},t.slice(1))}},230:function(e,t,a){"use strict";var n=a(222),r=a(5),c=a(0),l=a.n(c),u=a(99),i=a(1);function o(){var e=Object(n.b)(),t=Object(r.a)(e,2),a=t[0],o=t[1],s=Object(c.useCallback)((function(e){return o({selectedMode:e})}),[o]);return i.b.availableModes.length<2?null:l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col"},l.a.createElement(u.a,{mode:a.selectedMode,onChange:s})))}a.d(t,"a",(function(){return n.a})),a.d(t,"c",(function(){return n.b})),a.d(t,"b",(function(){return o}))},258:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),c=a(257),l=["#003f5c","#7a5195","#ef5675","#ffa600"],u=Math.PI/180,i=function(e){var t=e.lineHeight,a=void 0===t?24:t,n=e.innerLabelFontSize,c=void 0===n?"1rem":n;return function(e){var t=e.value;if(!t)return null;var n=t.toString().trim().split("\n"),l=e.viewBox,i=l.cx,o=l.cy,s=l.outerRadius,m=l.startAngle,d=function(e,t,a,n){return{x:e+Math.cos(-u*n)*a,y:t+Math.sin(-u*n)*a}}(i,o,s/2,m+function(e,t){return Math.sign(t-e)*Math.min(Math.abs(t-e),360)}(m,l.endAngle)/2),b=d.x,f=d.y-(n.length-1)*(a/2);return r.a.createElement("g",null,n.map((function(e,t){return r.a.createElement("text",{key:t,x:b,y:f+t*a,stroke:"#fff",strokeWidth:"0.5",fill:"#fff",fontSize:c,textAnchor:"middle",dominantBaseline:"central"},e)})))}};function o(e){return e.innerLabel||""}function s(e){return e.outerLabel||""}function m(e){var t=e.items,a=e.innerLabel,u=void 0===a?o:a,m=e.outerLabel,d=void 0===m?s:m,b=e.outerLabelOffset,f=void 0===b?0:b,E=e.innerLabelLineHeight,v=void 0===E?24:E,h=e.startAngle,O=void 0===h?0:h,j=e.colors,p=void 0===j?l:j,g=e.innerLabelFontSize,x=void 0===g?"1rem":g,k=e.aspect,N=void 0===k?1:k,y=Object(n.useMemo)((function(){return Array(t.length).fill(0).map((function(e,t){return r.a.createElement(c.a,{fill:p[t%p.length],fillOpacity:1,key:"cell-".concat(t)})}))}),[t.length,p]),M=Object(n.useMemo)((function(){return i({lineHeight:v,innerLabelFontSize:x})}),[v,x]),w=Object(n.useMemo)((function(){var e=function(e){return d(e)};return e.offsetRadius=f,e}),[d,f]);return r.a.createElement(c.i,{width:"100%",aspect:N,height:"auto"},r.a.createElement(c.h,null,r.a.createElement(c.g,{isAnimationActive:!1,data:t,nameKey:"outerLabel",dataKey:"value",label:w,startAngle:O,endAngle:O+360},y,r.a.createElement(c.d,{valueAccessor:u,dataKey:void 0,position:"inside",fill:"#fff",content:M}))))}},571:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(230),l=a(223),u=a(5),i=a(6),o=a(98),s=a(20),m=a(258),d=a(9),b="\u4e1c\u5357\u897f\u5317";function f(e){var t=e.rates,a=e.numGames,c=e.aspect,l=void 0===c?1:c,u=Object(d.c)().t,i=Object(n.useMemo)((function(){return t.map((function(e,t){return{value:e,outerLabel:u(b[t]),innerLabel:"".concat((100*e).toFixed(2),"%\n[").concat(Math.round(e*a),"]")}}))}),[t,a,u]);return r.a.createElement(m.a,{aspect:l,items:i})}var E=a(222),v=a(56),h=a(1),O=["\u7b49\u7ea7"].concat(["\u4e00\u4f4d\u7387","\u4e8c\u4f4d\u7387","\u4e09\u4f4d\u7387","\u56db\u4f4d\u7387"].slice(0,h.b.rankColors.length),["\u88ab\u98de\u7387","\u5e73\u5747\u987a\u4f4d","\u548c\u724c\u7387","\u653e\u94f3\u7387","\u526f\u9732\u7387","\u7acb\u76f4\u7387","\u81ea\u6478\u7387","\u6d41\u5c40\u7387","\u6d41\u542c\u7387","\u5bf9\u6218\u6570","\u5728\u4f4d\u8bb0\u5f55"]);var j=a(50),p=a(31),g=a(7),x=[void 0,function(e,t){return e.count-t.count},function(e,t){return t.count-e.count}];a.d(t,"default",(function(){return N}));var k=r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"rank-by-seat",title:"\u5750\u5e2d\u987a\u4f4d",disabled:!h.b.features.statisticsSubPages.rankBySeat},r.a.createElement((function(){var e=Object(d.c)().t,t=Object(i.i)(o.e,[],"getRankRateBySeat"),a=Object(c.c)(),n=Object(u.a)(a,1)[0];if(!t)return r.a.createElement(s.a,null);var l=t[n.selectedMode||"0"];return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h3",{className:"text-center"},e("\u5750\u5e2d\u5403\u4e00\u7387")),r.a.createElement(f,{rates:l[1],numGames:l.numGames})),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("h3",{className:"text-center"},e("\u5750\u5e2d\u5403".concat(l.length>4?"\u56db":"\u4e09","\u7387"))),r.a.createElement(f,{rates:l[l.length-1],numGames:l.numGames}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-right"},e("\u7edf\u8ba1\u534a\u5e84\u6570\uff1a"),l.numGames)))}),null)),r.a.createElement(l.b,{path:"data-by-rank",title:"\u7b49\u7ea7\u6570\u636e",disabled:!h.b.features.statisticsSubPages.dataByRank},r.a.createElement((function(){var e=Object(d.c)().t,t=Object(i.i)(o.d,[],"getGlobalStatistics"),a=Object(E.b)(),n=Object(u.a)(a,1)[0];if(!t)return r.a.createElement(s.a,null);var l=Object.entries(t[n.selectedMode||"0"]);return l.sort((function(e,t){return e[0].localeCompare(t[0])})),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,null),r.a.createElement("table",{className:"table table-responsive-xl table-striped table-sm table-hover text-center"},r.a.createElement("thead",{className:"vertical-table-header"},r.a.createElement("tr",null,O.map((function(t){return r.a.createElement("th",{key:t},r.a.createElement("div",null,e(t)))})))),r.a.createElement("tbody",null,l.map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"text-nowrap"},new v.a(parseInt(a)).getTag()),n.basic.rank_rates.slice(0,h.b.rankColors.length).map((function(e,t){return r.a.createElement("td",{key:t},Object(i.c)(e))})),r.a.createElement("td",null,Object(i.c)(n.basic.negative_rate)),r.a.createElement("td",null,Object(i.a)(n.basic.avg_rank)),r.a.createElement("td",null,Object(i.c)(n.extended.\u548c\u724c\u7387)),r.a.createElement("td",null,Object(i.c)(n.extended.\u653e\u94f3\u7387)),r.a.createElement("td",null,Object(i.c)(n.extended.\u526f\u9732\u7387)),r.a.createElement("td",null,Object(i.c)(n.extended.\u7acb\u76f4\u7387)),r.a.createElement("td",null,Object(i.c)(n.extended.\u81ea\u6478\u7387)),r.a.createElement("td",null,Object(i.c)(n.extended.\u6d41\u5c40\u7387)),r.a.createElement("td",null,Object(i.c)(n.extended.\u6d41\u542c\u7387)),r.a.createElement("td",null,n.basic.count),r.a.createElement("td",null,n.num_players))})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-right"},e("\u7edf\u8ba1\u534a\u5e84\u6570\uff1a"),Math.floor(l.map((function(e){return Object(u.a)(e,2)[1].basic.count})).reduce((function(e,t){return e+t}),0)/h.b.rankColors.length))))}),null)),r.a.createElement(l.b,{path:"fan-stats",title:"\u548c\u51fa\u5f79\u79cd\u7edf\u8ba1",disabled:!h.b.features.statisticsSubPages.fanStats},r.a.createElement((function(){var e=Object(d.c)().t,t=Object(i.i)(o.c,[],"getFanStats"),a=Object(n.useState)(0),c=Object(u.a)(a,2),l=c[0],m=c[1],b=Object(n.useMemo)((function(){if(t){if(!x[l])return t;for(var e=Object(p.a)({},t),a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];e[r]=Object(p.a)({},e[r],{entries:Object(j.a)(e[r].entries).sort(x[l])})}return e}}),[t,l]);return b?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},Object.entries(b).map((function(t){var a=Object(u.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",{className:"col-xl-4",key:n},r.a.createElement("h2",{className:"text-center"},e("0"===n?"\u5168\u90e8":Object(g.modeLabel)(parseInt(n)))),r.a.createElement("p",{className:"text-center"},e("\u8bb0\u5f55\u548c\u51fa\u5c40\u6570\uff1a"),c.count),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{onClick:function(){return m((l+1)%x.length)},className:"cursor-pointer"},r.a.createElement("tr",null,r.a.createElement("th",null,e("\u5f79")),r.a.createElement("th",{className:"text-right"},e("\u8bb0\u5f55\u6570")),r.a.createElement("th",{className:"text-right"},e("\u6bd4\u7387")))),r.a.createElement("tbody",null,c.entries.map((function(t){return r.a.createElement("tr",{key:t.label},r.a.createElement("td",null,e(t.label)),r.a.createElement("td",{className:"text-right"},t.count),r.a.createElement("td",{className:"text-right"},t.count?t.count/c.count<1e-4?"<0.01%":Object(i.c)(t.count/c.count):""))})))))})))):r.a.createElement(s.a,null)}),null)));function N(){return r.a.createElement(l.c,null,k,r.a.createElement(c.a,null,r.a.createElement(l.a,null),r.a.createElement(l.e,null)))}}}]);
//# sourceMappingURL=5.e683e2d0.chunk.js.map